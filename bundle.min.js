!function(t){function e(e){for(var o,r,s=e[0],c=e[1],l=e[2],p=0,u=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(h&&h(e);u.length;)u.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],o=!0,s=1;s<i.length;s++){var c=i[s];0!==n[c]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var o={},n={0:0},a=[];function r(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=o,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var h=c;a.push([558,1]),i()}({1475:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(71),s=a(i(1476)),c=a(i(1477)),l=a(i(1478)),h=a(i(1479)),p=a(i(1480)),u=a(i(1481)),d=a(i(1482)),_=a(i(1483)),f=a(i(1484)),E=a(i(1485)),S=a(i(1486)),y=i(82),O=function(t){function e(){return t.call(this,{key:y.BOOT_SCENE})||this}return n(e,t),e.prototype.preload=function(){this.load.image("bg-big",c.default),this.load.image("vertical-wall",l.default),this.load.image("horizontal-wall",E.default),this.load.image("start-window",d.default),this.load.image("start-btn",_.default),this.load.image("start-btn-over",p.default),this.load.image("start-btn-down",h.default),this.load.image("game-over-window",u.default),this.load.image("play-again-btn",f.default),this.load.image("plankton",S.default),this.load.spritesheet("fish",s.default,{frameWidth:136,frameHeight:80})},e.prototype.create=function(){this.scene.start(y.PLAY_SCENE),this.scene.launch(y.START_SCREEN_SCENE)},e}(r.Scene);e.default=O},1476:function(t,e,i){t.exports=i.p+"a6645ce12f121f7a2ff0c8cdc012a9e1.png"},1477:function(t,e,i){t.exports=i.p+"742b2b99ab68ad5939c93aaf9c61e09d.png"},1478:function(t,e,i){t.exports=i.p+"7c6ad0af069a8952e33d210bf372aab9.png"},1479:function(t,e,i){t.exports=i.p+"955344eb5a57558cd4f26c6da05da6ac.png"},1480:function(t,e,i){t.exports=i.p+"3460433ada8c953d9d372e985959fda5.png"},1481:function(t,e,i){t.exports=i.p+"58fa59bf08d375c68e9c348ba0d13eaf.png"},1482:function(t,e,i){t.exports=i.p+"15ad3803927df1d2681c6022368959ec.png"},1483:function(t,e,i){t.exports=i.p+"e7d47f401b5e16eb5de847ed58c858ed.png"},1484:function(t,e,i){t.exports=i.p+"87816718760acdee552df0122da00e3a.png"},1485:function(t,e,i){t.exports=i.p+"daac076bef4fbe26b031830a2bb5b42e.png"},1486:function(t,e,i){t.exports=i.p+"03fa1fcf0850db176b8fa367cd7fcc8f.png"},1487:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,r=i(71),s=i(266),c=i(82),l=i(1490),h=i(556),p=i(267),u=0,d=[],_=[],f=function(t){function e(){var e=t.call(this,{key:c.PLAY_SCENE})||this;return e.gameState=h.initialGameState,e.topHorizontalWall=void 0,e.bottomHorizontalWall=void 0,e.leftVerticalWall=void 0,e.rightVerticalWall=void 0,e.boostable=!0,e.boosting=!1,e}return n(e,t),e.prototype.create=function(){var t=this;this.bg=this.add.image(0,0,"bg-big").setOrigin(0),this.topHorizontalWall=this.physics.add.sprite(0,0,"horizontal-wall").setOrigin(0),this.leftVerticalWall=this.physics.add.sprite(0,0,"vertical-wall").setOrigin(0),this.rightVerticalWall=this.physics.add.sprite(this.bg.width,0,"vertical-wall").setOrigin(0),this.bottomHorizontalWall=this.physics.add.sprite(0,this.bg.height,"horizontal-wall").setOrigin(0),this.topHorizontalWall.setImmovable(!0),this.leftVerticalWall.setImmovable(!0),this.rightVerticalWall.setImmovable(!0),this.bottomHorizontalWall.setImmovable(!0);var e=(a=this.physics.add.sprite(this.game.scale.width/2,this.game.scale.height/2,"fish",2).setOrigin(.5)).displayWidth/1.3;a.body.setSize(e,a.displayHeight/1.4),a.scale=p.INITIAL_PLAYER_FISH_SIZE;for(var i=0;i<p.INITIAL_ENEMY_FISH;i++){var o=this.physics.add.sprite(50+(this.bg.width-50)*Math.random(),50+(this.bg.height-50)*Math.random(),"fish").setOrigin(.5).setTint(p.PLANKTON_COLORS[Math.floor(Math.random()*p.PLANKTON_COLORS.length)]).setScale(.2+3*Math.random()).setVelocityX(3+5*Math.random());o.body.setSize(o.body.width/1.5,o.body.height/2),o.body.setOffset(o.body.width/4,o.body.height/1.5),_.push(o);var n=25+Math.random()*(this.bg.width-25),r=25+Math.random()*(this.bg.height-25),h=5e3+6*Math.random(),u=5e3+6*Math.random();o.setFlipX(o.x>n),this.tweens.add({targets:o,props:{x:{value:n,duration:h,flipX:!0},y:{value:r,duration:u}},ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}for(i=0;i<p.INITIAL_PLANKTONS;i++)this.spawnSinglePlankton();window.setInterval((function(){t.spawnSinglePlankton()}),p.NEW_PLANKTON_SPAWN_RATE),this.input.on("pointermove",(function(e){t.pointer=e})),this.spacebarListener=this.input.keyboard.addKey("Space"),s.store.subscribe((function(){t.gameState=s.store.getState()}));var f=[this.topHorizontalWall,this.leftVerticalWall,this.bottomHorizontalWall,this.rightVerticalWall];this.physics.add.collider(f,a,void 0,void 0,this),this.physics.add.overlap(d,a,(function(t,e){t.destroy(),s.store.dispatch(l.planktonEaten(a.scale))}),void 0,this),this.physics.add.overlap(_,a,(function(e,i){e.scale<i.scale?(s.store.dispatch(l.littleFishEaten(e.scale)),e.destroy()):(s.store.dispatch(l.playerDies()),i.destroy(),t.scene.launch(c.GAME_OVER_SCENE))}),void 0,this),this.cameras.main.startFollow(a),this.cameras.main.zoom=p.INITIAL_CAMERA_ZOOM*(1/Math.sqrt(this.gameState.size)*.5),this.scene.isActive(c.HUD_SCENE)||this.scene.launch(c.HUD_SCENE)},e.prototype.update=function(){if(++u,u==Math.floor(p.FISH_SHRINKAGE_SPEED/this.gameState.size)&&(s.store.dispatch(l.shrinkFish()),u=0),p.NEW_FISH_SPAWN_RATE,a.body&&void 0!==this.pointer){var t=this.pointer.positionToCamera(this.cameras.main),e=a.body.velocity.x-p.WATER_FRICTION,i=a.body.velocity.y-p.WATER_FRICTION;if(e<0&&(e=0),i<0&&(i=0),t.x>=a.x+p.MOUSE_X_BUFFER){a.flipX=!1;p.MOUSE_X_BUFFER,this.gameState.size;var o=t.x;e=Math.abs(o-a.x)/this.gameState.size}else t.x<=a.x-p.MOUSE_X_BUFFER&&(e=-1*Math.abs(t.x-a.x)/a.scale,a.flipX=!0);t.y>=a.y+p.MOUSE_Y_BUFFER?i=(t.y-a.y)/a.scale*2:t.y<=a.y-p.MOUSE_Y_BUFFER&&(i=-1*Math.abs(t.y-a.y)/a.scale*2),a.body.setVelocityX(e),a.body.setVelocityY(i);var n=t.x-a.x,r=t.y-a.y,c=this.calculateFishRotation(n,r);a.setRotation(c),this.cameras.main.setZoom(p.INITIAL_CAMERA_ZOOM*(1/Math.sqrt(this.gameState.size)*.5)),a.scale=this.gameState.size}},e.prototype.spawnSinglePlankton=function(){var t=this.physics.add.sprite(50+(this.bg.width-50)*Math.random(),50+(this.bg.height-50)*Math.random(),"plankton").setRotation(2*Math.PI*Math.random()).setTint(p.PLANKTON_COLORS[Math.floor(Math.random()*p.PLANKTON_COLORS.length)]);d.push(t)},e.prototype.calculateFishRotation=function(t,e){var i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),o=Math.asin(e/i);return t>=0?o:-1*o},e}(r.Scene);e.default=f},1490:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(82),n=i(267);e.planktonEaten=function(t){var e=n.MIN_PLANKTON_VALUE+Math.floor(Math.random()*(n.MAX_PLANKTON_VALUE-n.MIN_PLANKTON_VALUE)),i=1+t/(e*t)/30;return{type:o.PLANKTON_EATEN,payload:{points:e,sizeMultiplier:i}}},e.littleFishEaten=function(t){var e=Math.max(n.MAX_FISH_VALUE,n.MIN_FISH_VALUE+Math.floor(1+Math.random()*t));return{type:o.LITTLE_FISH_EATEN,payload:{points:e,sizeMultiplier:1+e/100/2}}},e.playerDies=function(){return{type:o.PLAYER_DIES}},e.shrinkFish=function(){return{type:o.FISH_SHRINKAGE}}},1491:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(71),r=i(266),s=i(82),c=function(t){function e(){return t.call(this,{key:s.HUD_SCENE})||this}return n(e,t),e.prototype.preload=function(){},e.prototype.create=function(){var t=this.add.text(10,10,"Score: 0",{fontFamily:'"Roboto Condensed"',fontSize:"35px"}),e=this.add.text(10,50,"Size: 1",{fontFamily:'"Roboto Condensed"',fontSize:"35px"});r.store.subscribe((function(){var i=r.store.getState();t.setText("Score: "+JSON.stringify(i.score)),e.setText("Size: "+i.size.toFixed(2))}))},e}(a.Scene);e.default=c},1492:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(71),r=i(82),s=i(266),c=function(t){function e(){return t.call(this,{key:r.GAME_OVER_SCENE})||this}return n(e,t),e.prototype.preload=function(){},e.prototype.create=function(){var t=this;this.scene.pause(r.PLAY_SCENE);var e=this.game.scale.width/2,i=this.game.scale.height/2;this.playAgainWindow=this.add.image(e,i,"game-over-window").setOrigin(.5),this.playAgainBtn=this.add.sprite(e,i+120,"play-again-btn").setOrigin(.5),this.playAgainBtn.setInteractive(),this.playAgainBtn.on("pointerdown",(function(){t.scene.stop(),t.scene.start(r.PLAY_SCENE)}),this);var o=s.store.getState();this.add.text(e-6,310,"Score:",{fontFamily:'"Roboto Condensed"',fontSize:"30px",textAlign:"left"}).setOrigin(.5),this.add.text(e+44,310,""+JSON.stringify(o.previousGameScore),{fontFamily:'"Roboto Condensed"',fontSize:"30px",textAlign:"left"}).setOrigin(0,.5),this.add.text(e-39,350,"High Score:",{fontFamily:'"Roboto Condensed"',fontSize:"30px"}).setOrigin(.5),this.add.text(e+44,350,""+o.highestScore,{fontFamily:'"Roboto Condensed"',fontSize:"30px"}).setOrigin(0,.5)},e}(a.Scene);e.default=c},1493:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(71),r=i(82),s=function(t){function e(){return t.call(this,{key:r.START_SCREEN_SCENE})||this}return n(e,t),e.prototype.preload=function(){},e.prototype.create=function(){var t=this;this.scene.pause(r.PLAY_SCENE);var e=this.game.scale.width/2,i=this.game.scale.height/2;this.startWindow=this.add.image(e,300,"start-window").setOrigin(.5),this.startBtn=this.add.sprite(e,i+100,"start-btn").setOrigin(.5),this.startBtn.setInteractive(),this.startBtn.on("pointerdown",(function(){t.scene.stop(),t.scene.resume(r.PLAY_SCENE)}),this)},e}(a.Scene);e.default=s},266:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(555),n=i(1489),a=i(556);e.store=o.createStore(a.gameScoreReducer,n.devToolsEnhancer({}))},267:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_X_BUFFER=20,e.MOUSE_Y_BUFFER=13,e.MIN_PLANKTON_VALUE=1,e.MAX_PLANKTON_VALUE=5,e.MIN_FISH_VALUE=3,e.MAX_FISH_VALUE=10,e.INITIAL_PLANKTONS=800,e.INITIAL_ENEMY_FISH=20,e.PLANKTON_COLORS=[16750933,14431975,2048187,1104656,11273991,9250514],e.WATER_FRICTION=2,e.BOOST_DISTANCE=300,e.PLANKTON_GENERATION_RATE=10,e.BASE_FISH_SPEED=10,e.FISH_SHRINKAGE_SPEED=750,e.NEW_FISH_SPAWN_RATE=750,e.NEW_PLANKTON_SPAWN_RATE=420,e.FISH_SHRINKAGE_FACTOR=.9,e.POINTS_FROM_LITTLE_FISH_FACTOR=.9,e.FISH_SCALE_TO_SIZE_FACTOR=1,e.INITIAL_PLAYER_FISH_SIZE=.4,e.MAX_FISH_SIZE=15,e.INITIAL_CAMERA_ZOOM=1.9,e.SMALLEST_CAMERA_ZOOM=.13},556:function(t,e,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=i(82),a=i(267);e.initialGameState={score:0,size:a.INITIAL_PLAYER_FISH_SIZE,previousGameScore:0,highestScore:0},e.gameScoreReducer=function(t,i){switch(void 0===t&&(t=e.initialGameState),i.type){case n.PLANKTON_EATEN:case n.LITTLE_FISH_EATEN:return o(o({},t),{score:t.score+i.payload.points,size:Math.min(a.MAX_FISH_SIZE,t.size*i.payload.sizeMultiplier)});case n.FISH_SHRINKAGE:return o(o({},t),{size:t.size*a.FISH_SHRINKAGE_FACTOR});case n.PLAYER_DIES:return o(o({},t),{score:0,size:a.INITIAL_PLAYER_FISH_SIZE,previousGameScore:t.score,highestScore:Math.max(t.score,t.highestScore)});default:return t}}},558:function(t,e,i){"use strict";var o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(i(71)),r=n(i(1475)),s=n(i(1487)),c=n(i(1491)),l=n(i(1492)),h=n(i(1493)),p=Math.min(window.innerWidth,800),u={type:a.AUTO,parent:"app",width:p,height:3*p/4,backgroundColor:"#115DA8",scene:[r.default,s.default,h.default,c.default,l.default],physics:{default:"arcade",arcade:{}}},d=new a.Game(u);window.game=d},82:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BOOT_SCENE="BOOT_SCENE",e.START_SCREEN_SCENE="START_SCREEN_SCENE",e.PLAY_SCENE="PLAY_SCENE",e.HUD_SCENE="HUD_SCENE",e.GAME_OVER_SCENE="GAME_OVER_SCENE",e.FISH_SHRINKAGE="FISH_SHRINKAGE",e.LITTLE_FISH_EATEN="LITTLE_FISH_EATEN",e.PLANKTON_EATEN="PLANKTON_EATEN",e.PLAYER_DIES="PLAYER_DIES"}});