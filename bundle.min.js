!function(t){function e(e){for(var o,a,s=e[0],c=e[1],l=e[2],d=0,u=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&u.push(n[a][0]),n[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(p&&p(e);u.length;)u.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],o=!0,s=1;s<i.length;s++){var c=i[s];0!==n[c]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var o={},n={0:0},r=[];function a(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=o,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(i,o,function(e){return t[e]}.bind(null,o));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var p=c;r.push([558,1]),i()}({1475:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(71),s=r(i(1476)),c=r(i(1477)),l=r(i(1478)),p=r(i(1479)),d=r(i(1480)),u=r(i(1481)),h=r(i(1482)),f=r(i(1483)),_=r(i(1484)),y=r(i(1485)),E=r(i(1486)),S=i(82),g=function(t){function e(){return t.call(this,{key:S.BOOT_SCENE})||this}return n(e,t),e.prototype.preload=function(){this.load.image("bg-big",c.default),this.load.image("vertical-wall",l.default),this.load.image("horizontal-wall",y.default),this.load.image("start-window",h.default),this.load.image("start-btn",f.default),this.load.image("start-btn-over",d.default),this.load.image("start-btn-down",p.default),this.load.image("game-over-window",u.default),this.load.image("play-again-btn",_.default),this.load.image("plankton",E.default),this.load.spritesheet("fish",s.default,{frameWidth:136,frameHeight:80})},e.prototype.create=function(){this.scene.start(S.PLAY_SCENE),this.scene.launch(S.START_SCREEN_SCENE)},e}(a.Scene);e.default=g},1476:function(t,e,i){t.exports=i.p+"a6645ce12f121f7a2ff0c8cdc012a9e1.png"},1477:function(t,e,i){t.exports=i.p+"742b2b99ab68ad5939c93aaf9c61e09d.png"},1478:function(t,e,i){t.exports=i.p+"7c6ad0af069a8952e33d210bf372aab9.png"},1479:function(t,e,i){t.exports=i.p+"955344eb5a57558cd4f26c6da05da6ac.png"},1480:function(t,e,i){t.exports=i.p+"3460433ada8c953d9d372e985959fda5.png"},1481:function(t,e,i){t.exports=i.p+"58fa59bf08d375c68e9c348ba0d13eaf.png"},1482:function(t,e,i){t.exports=i.p+"15ad3803927df1d2681c6022368959ec.png"},1483:function(t,e,i){t.exports=i.p+"e7d47f401b5e16eb5de847ed58c858ed.png"},1484:function(t,e,i){t.exports=i.p+"87816718760acdee552df0122da00e3a.png"},1485:function(t,e,i){t.exports=i.p+"daac076bef4fbe26b031830a2bb5b42e.png"},1486:function(t,e,i){t.exports=i.p+"03fa1fcf0850db176b8fa367cd7fcc8f.png"},1487:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(71),s=i(266),c=i(82),l=i(1490),p=i(556),d=i(267),u=0,h=[],f=[],_=function(t){function e(){var e=t.call(this,{key:c.PLAY_SCENE})||this;return e.gameState=p.initialGameState,e.topHorizontalWall=void 0,e.bottomHorizontalWall=void 0,e.leftVerticalWall=void 0,e.rightVerticalWall=void 0,e.boostable=!0,e.boosting=!1,e}return n(e,t),e.prototype.create=function(){var t=this;this.bg=this.add.image(0,0,"bg-big").setOrigin(0),this.topHorizontalWall=this.physics.add.sprite(0,0,"horizontal-wall").setOrigin(0),this.leftVerticalWall=this.physics.add.sprite(0,0,"vertical-wall").setOrigin(0),this.rightVerticalWall=this.physics.add.sprite(this.bg.width,0,"vertical-wall").setOrigin(0),this.bottomHorizontalWall=this.physics.add.sprite(0,this.bg.height,"horizontal-wall").setOrigin(0),this.topHorizontalWall.setImmovable(!0),this.leftVerticalWall.setImmovable(!0),this.rightVerticalWall.setImmovable(!0),this.bottomHorizontalWall.setImmovable(!0),(r=this.physics.add.sprite(this.game.scale.width/2,this.game.scale.height/2,"fish",2).setOrigin(.5)).body.setSize(r.displayWidth/1.3,r.displayHeight/1.4);for(var e=0;e<d.INITIAL_ENEMY_FISH;e++){var i=this.physics.add.sprite(50+(this.bg.width-50)*Math.random(),50+(this.bg.height-50)*Math.random(),"fish").setOrigin(.5).setTint(d.PLANKTON_COLORS[Math.floor(Math.random()*d.PLANKTON_COLORS.length)]).setScale(.2+3*Math.random()).setVelocityX(3+5*Math.random());i.body.setSize(i.body.width/1.5,i.body.height/2),i.body.setOffset(i.body.width/4,i.body.height/1.5),f.push(i);var o=25+Math.random()*(this.bg.width-25),n=25+Math.random()*(this.bg.height-25),a=5e3+6*Math.random(),p=5e3+6*Math.random();i.setFlipX(i.x>o),this.tweens.add({targets:i,props:{x:{value:o,duration:a,flipX:!0},y:{value:n,duration:p}},ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}for(e=0;e<d.INITIAL_PLANKTONS;e++)this.spawnSinglePlankton();window.setInterval((function(){t.spawnSinglePlankton()}),d.NEW_PLANKTON_SPAWN_RATE),this.input.on("pointermove",(function(e){t.pointer=e})),this.spacebarListener=this.input.keyboard.addKey("Space"),s.store.subscribe((function(){t.gameState=s.store.getState()}));var u=[this.topHorizontalWall,this.leftVerticalWall,this.bottomHorizontalWall,this.rightVerticalWall];this.physics.add.collider(u,r,void 0,void 0,this),this.physics.add.overlap(h,r,(function(t,e){t.destroy(),s.store.dispatch(l.planktonEaten())}),void 0,this),this.physics.add.overlap(f,r,(function(e,i){e.scale<i.scale?(s.store.dispatch(l.littleFishEaten(e.scale)),e.destroy()):(s.store.dispatch(l.playerDies()),i.destroy(),t.scene.launch(c.GAME_OVER_SCENE))}),void 0,this),this.cameras.main.startFollow(r),this.cameras.main.zoom=.5,this.scene.isActive(c.HUD_SCENE)||this.scene.launch(c.HUD_SCENE)},e.prototype.update=function(){if(++u,750==u&&(s.store.dispatch(l.shrinkFish()),u=0),d.NEW_FISH_SPAWN_RATE,r.body&&void 0!==this.pointer){var t=this.pointer.positionToCamera(this.cameras.main),e=r.body.velocity.x-d.WATER_FRICTION,i=r.body.velocity.y-d.WATER_FRICTION;e<0&&(e=0),i<0&&(i=0),t.x>=r.x+d.MOUSE_X_BUFFER?(r.flipX=!1,e=(t.x-r.x)/r.scale):t.x<=r.x-d.MOUSE_X_BUFFER&&(e=-1*Math.abs(t.x-r.x)/r.scale,r.flipX=!0),t.y>=r.y+d.MOUSE_Y_BUFFER?i=(t.y-r.y)/r.scale*2:t.y<=r.y-d.MOUSE_Y_BUFFER&&(i=-1*Math.abs(t.y-r.y)/r.scale*2),r.body.setVelocityX(e),r.body.setVelocityY(i),r.scale=this.gameState.size}},e.prototype.spawnSinglePlankton=function(){var t=this.physics.add.sprite(50+(this.bg.width-50)*Math.random(),50+(this.bg.height-50)*Math.random(),"plankton").setRotation(2*Math.PI*Math.random()).setTint(d.PLANKTON_COLORS[Math.floor(Math.random()*d.PLANKTON_COLORS.length)]);h.push(t)},e}(a.Scene);e.default=_},1490:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(82),n=i(267);e.planktonEaten=function(){var t=n.MIN_PLANKTON_VALUE+Math.floor(Math.random()*(n.MAX_PLANKTON_VALUE-n.MIN_PLANKTON_VALUE));return{type:o.PLANKTON_EATEN,payload:{points:t,sizeMultiplier:1+t/100/2}}},e.littleFishEaten=function(t){var e=Math.max(n.MAX_FISH_VALUE,n.MIN_FISH_VALUE+Math.floor(1+Math.random()*t));return console.log("points from eating little fish: ",e),{type:o.LITTLE_FISH_EATEN,payload:{points:e,sizeMultiplier:1+e/100/2}}},e.playerDies=function(){return{type:o.PLAYER_DIES}},e.shrinkFish=function(){return{type:o.FISH_SHRINKAGE}}},1491:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(71),a=i(266),s=i(82),c=function(t){function e(){return t.call(this,{key:s.HUD_SCENE})||this}return n(e,t),e.prototype.preload=function(){},e.prototype.create=function(){var t=this.add.text(10,10,"Score: 0",{fontFamily:'"Roboto Condensed"',fontSize:"35px"}),e=this.add.text(10,50,"Size: 1",{fontFamily:'"Roboto Condensed"',fontSize:"35px"});a.store.subscribe((function(){var i=a.store.getState();t.setText("Score: "+JSON.stringify(i.score)),e.setText("Size: "+i.size.toFixed(2))}))},e}(r.Scene);e.default=c},1492:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(71),a=i(82),s=i(266),c=function(t){function e(){return t.call(this,{key:a.GAME_OVER_SCENE})||this}return n(e,t),e.prototype.preload=function(){},e.prototype.create=function(){var t=this;this.scene.pause(a.PLAY_SCENE);var e=this.game.scale.width/2,i=this.game.scale.height/2;this.playAgainWindow=this.add.image(e,i,"game-over-window").setOrigin(.5),this.playAgainBtn=this.add.sprite(e,i+120,"play-again-btn").setOrigin(.5),this.playAgainBtn.setInteractive(),this.playAgainBtn.on("pointerdown",(function(){t.scene.stop(),t.scene.start(a.PLAY_SCENE)}),this);var o=s.store.getState();this.add.text(e-6,310,"Score:",{fontFamily:'"Roboto Condensed"',fontSize:"30px",textAlign:"left"}).setOrigin(.5),this.add.text(e+44,310,""+JSON.stringify(o.previousGameScore),{fontFamily:'"Roboto Condensed"',fontSize:"30px",textAlign:"left"}).setOrigin(0,.5),this.add.text(e-39,350,"High Score:",{fontFamily:'"Roboto Condensed"',fontSize:"30px"}).setOrigin(.5),this.add.text(e+44,350,""+o.highestScore,{fontFamily:'"Roboto Condensed"',fontSize:"30px"}).setOrigin(0,.5)},e}(r.Scene);e.default=c},1493:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(71),a=i(82),s=function(t){function e(){return t.call(this,{key:a.START_SCREEN_SCENE})||this}return n(e,t),e.prototype.preload=function(){},e.prototype.create=function(){var t=this;this.scene.pause(a.PLAY_SCENE);var e=this.game.scale.width/2,i=this.game.scale.height/2;this.startWindow=this.add.image(e,300,"start-window").setOrigin(.5),this.startBtn=this.add.sprite(e,i+100,"start-btn").setOrigin(.5),this.startBtn.setInteractive(),this.startBtn.on("pointerdown",(function(){t.scene.stop(),t.scene.resume(a.PLAY_SCENE)}),this)},e}(r.Scene);e.default=s},266:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(555),n=i(1489),r=i(556);e.store=o.createStore(r.gameScoreReducer,n.devToolsEnhancer({}))},267:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_X_BUFFER=30,e.MOUSE_Y_BUFFER=13,e.MIN_PLANKTON_VALUE=1,e.MAX_PLANKTON_VALUE=5,e.MIN_FISH_VALUE=3,e.MAX_FISH_VALUE=10,e.INITIAL_PLANKTONS=100,e.INITIAL_ENEMY_FISH=20,e.PLANKTON_COLORS=[16750933,14431975,2048187,1104656,11273991,9250514],e.WATER_FRICTION=2,e.BOOST_DISTANCE=300,e.PLANKTON_GENERATION_RATE=10,e.FISH_SHRINKAGE_SPEED=750,e.NEW_FISH_SPAWN_RATE=750,e.NEW_PLANKTON_SPAWN_RATE=420,e.FISH_SHRINKAGE_FACTOR=.9,e.POINTS_FROM_LITTLE_FISH_FACTOR=.9,e.FISH_SCALE_TO_SIZE_FACTOR=1},556:function(t,e,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=i(82),r=i(267);e.initialGameState={score:0,size:1,previousGameScore:0,highestScore:0},e.gameScoreReducer=function(t,i){switch(void 0===t&&(t=e.initialGameState),console.log("handling an action...",i),i.type){case n.PLANKTON_EATEN:return o(o({},t),{score:t.score+i.payload.points,size:t.size*i.payload.sizeMultiplier});case n.LITTLE_FISH_EATEN:return console.log("little fish action: ",i),o(o({},t),{score:t.score+i.payload.points,size:t.size*i.payload.sizeMultiplier});case n.FISH_SHRINKAGE:return o(o({},t),{size:t.size*r.FISH_SHRINKAGE_FACTOR});case n.PLAYER_DIES:return o(o({},t),{score:0,size:1,previousGameScore:t.score,highestScore:Math.max(t.score,t.highestScore)});default:return t}}},558:function(t,e,i){"use strict";var o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(71)),a=n(i(1475)),s=n(i(1487)),c=n(i(1491)),l=n(i(1492)),p=n(i(1493)),d=Math.min(window.innerWidth,800),u={type:r.AUTO,parent:"app",width:d,height:3*d/4,backgroundColor:"#115DA8",scene:[a.default,s.default,p.default,c.default,l.default],physics:{default:"arcade",arcade:{debug:!1}}},h=new r.Game(u);window.game=h},82:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BOOT_SCENE="BOOT_SCENE",e.START_SCREEN_SCENE="START_SCREEN_SCENE",e.PLAY_SCENE="PLAY_SCENE",e.HUD_SCENE="HUD_SCENE",e.GAME_OVER_SCENE="GAME_OVER_SCENE",e.FISH_SHRINKAGE="FISH_SHRINKAGE",e.LITTLE_FISH_EATEN="LITTLE_FISH_EATEN",e.PLANKTON_EATEN="PLANKTON_EATEN",e.PLAYER_DIES="PLAYER_DIES"}});